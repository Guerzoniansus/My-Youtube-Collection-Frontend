<div class="editor-window">
  <button mat-icon-button aria-label="Close">
    <mat-icon>close</mat-icon>
  </button>
  <div class="inner-editor-window">
    <mat-form-field class="input-field" (keyup.enter)="processYoutubeUrl()">
      <mat-label>Youtube URL</mat-label>
      <input matInput [(ngModel)]="videoUrl">
    </mat-form-field>

    <div #videoEmbed></div>

    <form *ngIf="validUrl">
      <p class="input-label">Title</p>
      <p>{{video.title}}</p>

      <p class="input-label">Alternative title (optional)</p>
      <mat-form-field class="input-field">
        <mat-label>Enter alternative title</mat-label>
        <input matInput name="alternative-title" [(ngModel)]="video.alternativeTitle">
      </mat-form-field>
      <p class="input-label">Tags</p>


      <mat-form-field class="input-field">
        <mat-label>Enter tags</mat-label>
        <mat-chip-grid #chipGrid aria-label="Tag selection">
          <mat-chip-row *ngFor="let tag of video.tags" (removed)="removeTag(tag)">
            {{tag.text}}
            <button matChipRemove>
              <mat-icon>cancel</mat-icon>
            </button>
          </mat-chip-row>
        </mat-chip-grid>
        <input placeholder="New Tag..." #tagInput [formControl]="tagCtrl"
               [matChipInputFor]="chipGrid" [matAutocomplete]="auto"
               [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
               (matChipInputTokenEnd)="addTag($event)"/>
        <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectedTag($event)">
          <mat-option *ngFor="let tag of filteredTags | async" [value]="tag">
            {{tag.text}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
      <p>{{video | json}}</p>
      <button (click)="save()" class="save-button" mat-flat-button color="primary">Save</button>
    </form>
  </div>
</div>
